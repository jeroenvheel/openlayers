---
layout: example.html
title: WebGL Fill Pattern Precision
shortdesc: Fill patterns stay crisp at high zoom levels using Dekker double-float splitting
docs: >
  This example demonstrates WebGL fill-pattern rendering at extreme zoom levels.

  At zoom levels beyond ~17, world-to-pixel conversions produce values exceeding 100 million pixels.
  With standard float32 shader arithmetic, this causes catastrophic precision loss: the <code>mod()</code>
  operation that tiles the pattern receives garbage inputs, resulting in corrupted or noisy patterns.

  The fix uses <strong>Dekker splitting</strong> (double-float emulation) in the GLSL shader. Each pixel
  coordinate is decomposed into a <code>hi</code> + <code>lo</code> float32 pair on the CPU, and the
  shader performs subtraction, rotation, division, and modulo using error-free transformations
  (Knuth two-sum, Veltkamp splitting) that preserve the full float64 precision.

  Try zooming in on the map below &mdash; the checkerboard and stripe patterns remain sharp
  even at zoom 22+, where pixel positions exceed 200 million.
tags: "webgl, pattern, fill, precision, vector"
experimental: true
---
<div id="map" class="map"></div>
<div id="info">
  <span id="zoom-display"></span>
  <span id="pixel-display"></span>
</div>
